<!DOCTYPE html>
<html>
<head>
    <title>Caesar Cipher</title>
    <script>
        async function processText(mode) {
            const text = document.getElementById("text").value;
            const shift = document.getElementById("shift").value;

            const response = await fetch("/process", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    text: text,
                    shift: parseInt(shift),
                    mode: mode
                })
            });

            const data = await response.json();
            document.getElementById("result").innerText = data.result || data.error;
        }
    </script>
</head>
<body>
    <h1>Caesar Cipher (Encrypt / Decrypt)</h1>
    <textarea id="text" rows="4" cols="50" placeholder="Enter your message..."></textarea><br><br>
    <input type="number" id="shift" placeholder="Enter shift value"><br><br>
    <button type="button" onclick="processText('encrypt')">Encrypt</button>
    <button type="button" onclick="processText('decrypt')">Decrypt</button>

    <h3>Result:</h3>
    <p id="result" style="font-weight: bold; font-size: 18px;"></p>
</body>
</html>
